---
import Button from '@/components/ui/Button.astro';

interface Props {
  retoDetailsUrl?: string;
  deadline?: string;
}

const {
  retoDetailsUrl = '/ia-contadores/reto-12-dias',
  deadline = '5 de enero 2026',
} = Astro.props;
---

<section
  class="py-24 px-6 relative overflow-hidden bg-[#f8fafc] dark:bg-[#0f172a]"
>
  <!-- Grid Background Pattern (as seen in IAGraciasHero) -->
  <div
    class="absolute inset-0 pointer-events-none opacity-[0.03] dark:opacity-[0.05]"
  >
    <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <pattern
          id="grid-next"
          width="40"
          height="40"
          patternUnits="userSpaceOnUse"
        >
          <path
            d="M 40 0 L 0 0 0 40"
            fill="none"
            stroke="currentColor"
            stroke-width="1"></path>
        </pattern>
      </defs>
      <rect width="100%" height="100%" fill="url(#grid-next)"></rect>
    </svg>
  </div>

  <div class="max-w-4xl mx-auto relative px-4">
    <!-- Content Card -->
    <div
      class="w-full bg-white dark:bg-[#1a202e] rounded-[32px] shadow-[0_20px_60px_-15px_rgba(30,58,138,0.1)] dark:shadow-none border border-slate-100 dark:border-white/5 overflow-hidden relative group/card animate-on-scroll"
      data-animation="fade-in-up"
    >
      <!-- Top Accent Line: Blue to Violet Gradient -->
      <div
        class="absolute top-0 left-0 w-full h-[6px] bg-gradient-to-r from-[#2563eb] to-[#7c3aed]"
      >
      </div>

      <div
        class="p-10 md:p-16 flex flex-col items-center text-center relative z-10"
      >
        <!-- Badge: SIGUIENTE NIVEL -->
        <div
          class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-violet-50 dark:bg-violet-500/10 border border-violet-100 dark:border-violet-500/20 mb-8 animate-on-scroll"
          data-animation="fade-in"
        >
          <span
            class="text-violet-600 dark:text-violet-400 text-[10px] font-[900] tracking-[0.2em] uppercase"
            >ðŸŽ¯ Siguiente Nivel</span
          >
        </div>

        <!-- Headline -->
        <h2
          class="text-slate-900 dark:text-white tracking-tight text-3xl md:text-5xl font-[900] leading-[1.1] mb-6 font-display animate-on-scroll"
          data-animation="fade-in-up"
          data-delay="100"
        >
          Â¿Listo para Dominar IA en tu <br class="hidden md:block" />
          <span
            class="bg-clip-text text-transparent bg-gradient-to-r from-[#2563eb] to-[#7c3aed]"
            >PrÃ¡ctica Contable</span
          >?
        </h2>

        <!-- Body Copy -->
        <p
          class="text-slate-500 dark:text-slate-400 text-lg font-medium leading-relaxed max-w-2xl mb-12 animate-on-scroll"
          data-animation="fade-in-up"
          data-delay="200"
        >
          Estos recursos son solo el inicio... acelera tu aprendizaje y Ãºnete al
          exclusivo <span class="text-[#2563eb] dark:text-blue-400 font-bold"
            >Reto de 12 DÃ­as</span
          >.
        </p>

        <!-- Benefits Grid -->
        <div
          class="w-full max-w-2xl grid grid-cols-1 sm:grid-cols-2 gap-y-8 gap-x-12 mb-14 text-left animate-on-scroll"
          data-animation="fade-in"
          data-delay="300"
        >
          <!-- Item 1 -->
          <div class="flex items-start gap-4 group/item">
            <div
              class="flex-shrink-0 size-7 rounded-full bg-blue-50 dark:bg-blue-500/10 flex items-center justify-center border border-blue-100 dark:border-blue-500/20 group-hover/item:scale-110 transition-transform"
            >
              <span
                class="material-symbols-outlined text-[#2563eb] dark:text-blue-400 text-lg font-black"
                >check</span
              >
            </div>
            <div>
              <h3
                class="font-bold text-slate-900 dark:text-white text-lg leading-tight mb-1"
              >
                Sesiones en vivo
              </h3>
              <p
                class="text-xs text-slate-400 dark:text-slate-500 font-semibold italic"
              >
                MentorÃ­a con expertos en tiempo real e implementaciÃ³n.
              </p>
            </div>
          </div>
          <!-- Item 2 -->
          <div class="flex items-start gap-4 group/item">
            <div
              class="flex-shrink-0 size-7 rounded-full bg-blue-50 dark:bg-blue-500/10 flex items-center justify-center border border-blue-100 dark:border-blue-500/20 group-hover/item:scale-110 transition-transform"
            >
              <span
                class="material-symbols-outlined text-[#2563eb] dark:text-blue-400 text-lg font-black"
                >check</span
              >
            </div>
            <div>
              <h3
                class="font-bold text-slate-900 dark:text-white text-lg leading-tight mb-1"
              >
                Casos avanzados
              </h3>
              <p
                class="text-xs text-slate-400 dark:text-slate-500 font-semibold italic"
              >
                AplicaciÃ³n real inmediata a tu despacho contable.
              </p>
            </div>
          </div>
          <!-- Item 3 -->
          <div class="flex items-start gap-4 group/item">
            <div
              class="flex-shrink-0 size-7 rounded-full bg-blue-50 dark:bg-blue-500/10 flex items-center justify-center border border-blue-100 dark:border-blue-500/20 group-hover/item:scale-110 transition-transform"
            >
              <span
                class="material-symbols-outlined text-[#2563eb] dark:text-blue-400 text-lg font-black"
                >check</span
              >
            </div>
            <div>
              <h3
                class="font-bold text-slate-900 dark:text-white text-lg leading-tight mb-1"
              >
                Comunidad VIP
              </h3>
              <p
                class="text-xs text-slate-400 dark:text-slate-500 font-semibold italic"
              >
                Networking estratÃ©gico con colegas visionarios.
              </p>
            </div>
          </div>
          <!-- Item 4 -->
          <div class="flex items-start gap-4 group/item">
            <div
              class="flex-shrink-0 size-7 rounded-full bg-blue-50 dark:bg-blue-500/10 flex items-center justify-center border border-blue-100 dark:border-blue-500/20 group-hover/item:scale-110 transition-transform"
            >
              <span
                class="material-symbols-outlined text-[#2563eb] dark:text-blue-400 text-lg font-black"
                >check</span
              >
            </div>
            <div>
              <h3
                class="font-bold text-slate-900 dark:text-white text-lg leading-tight mb-1"
              >
                Flujos hÃ­bridos
              </h3>
              <p
                class="text-xs text-slate-400 dark:text-slate-500 font-semibold italic"
              >
                AutomatizaciÃ³n inteligente que gasta menos tiempo.
              </p>
            </div>
          </div>
        </div>

        <!-- CTA Section -->
        <div
          class="flex flex-col items-center gap-5 w-full max-w-sm animate-on-scroll"
          data-animation="scale-in"
          data-delay="400"
        >
          <Button
            href={retoDetailsUrl}
            variant="primary"
            size="xl"
            class="w-full h-16 rounded-2xl bg-[#2563eb] hover:bg-blue-700 shadow-[0_12px_24px_-8px_rgba(37,99,235,0.4)] text-lg font-extrabold transition-all duration-300 transform hover:-translate-y-1"
            data-track-event="cta_reto_from_thank_you"
          >
            ðŸš€ Ver Detalles del Reto
          </Button>

          <!-- Microcopy: Hourglass + Divider -->
          <div
            class="flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400 dark:text-slate-500"
          >
            <span class="material-symbols-outlined text-base"
              >hourglass_top</span
            >
            <span>Plazas limitadas</span>
            <span class="mx-1 opacity-20">|</span>
            <span>Comienza el {deadline}</span>
          </div>
        </div>
      </div>

      <!-- Decorative "Watermark" Icon (Rocket) -->
      <span
        class="material-symbols-outlined absolute -bottom-16 -right-16 text-[280px] text-slate-500/[0.03] dark:text-white/[0.02] pointer-events-none rotate-12 select-none z-0"
      >
        rocket_launch
      </span>
    </div>
  </div>
</section>

<style>
  .font-display {
    font-family: 'Manrope', sans-serif;
  }
</style>
