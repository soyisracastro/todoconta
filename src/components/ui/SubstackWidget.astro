---
export interface Props {
  url?: string;
  title?: string;
}

const {
  url = 'https://blog.todoconta.com/embed',
  title = 'Suscríbete al newsletter'
} = Astro.props;
---

<div class="substack-widget fade-in-up">
  <h3 class="widget-title">{title}</h3>
  <div class="widget-container">
    <iframe
      src={url}
      class="substack-iframe"
      frameborder="0"
      scrolling="no"
      title="Formulario de suscripción a Substack"
    ></iframe>
  </div>
</div>

<style>
  .substack-widget {
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    animation: fadeInUp 0.6s ease-out;
  }

  .widget-title {
    font-family: var(--font-heading);
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
    text-align: center;
    margin: 0 0 var(--space-6) 0;
  }

  .widget-container {
    background: var(--color-surface);
    border: 2px solid var(--color-border);
    border-radius: var(--border-radius-xl);
    padding: var(--space-2);
    box-shadow: var(--shadow-md);
    transition: all var(--transition-normal);
    overflow: hidden;
  }

  .widget-container:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-lg);
  }

  .substack-iframe {
    width: 100%;
    height: 150px;
    border: none;
    background: white;
    border-radius: var(--border-radius-lg);
  }

  @media (max-width: 768px) {
    .substack-widget {
      padding: 0 var(--space-4);
    }

    .widget-title {
      font-size: var(--font-size-xl);
    }

    .widget-container {
      padding: var(--space-1);
    }
  }

  @media (min-width: 769px) {
    .widget-container {
      padding: var(--space-4);
    }

    .substack-iframe {
      height: 180px;
    }
  }
</style>
