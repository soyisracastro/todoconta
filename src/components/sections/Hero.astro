---
import Button from '../ui/Button.astro';

// Opcional: definir props si necesitas personalizar el hero desde diferentes p√°ginas
export interface Props {
  title?: string;
  subtitle?: string;
  showStats?: boolean;
}

const {
  title = "Tranquilidad Fiscal Garantizada para tu Empresa",
  subtitle = "Servicios contables integrales desde $4,200/mes. Asesor√≠as fiscales en l√≠nea y automatizaci√≥n con IA. <strong>Si no cumplimos, cubrimos las multas</strong>.",
  showStats = true
} = Astro.props;

// Estad√≠sticas para mostrar en el hero
const stats = [
  {
    number: "500+",
    label: "Empresas Atendidas"
  },
  {
    number: "98.5%",
    label: "Sin Multas Fiscales"
  },
  {
    number: "15+",
    label: "A√±os de Experiencia"
  }
];
---

<section class="hero" id="inicio">
  <div class="hero-background"></div>
  <div class="container">
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title fade-in-up">{title}</h1>
        <p class="hero-subtitle fade-in-up" set:html={subtitle}></p>
        
        <div class="hero-cta fade-in-up">
          <a href="#servicios" class="btn btn-accent btn-xl">Ver Planes</a>
          <a href="#asesoria" class="btn btn-outline btn-xl">Asesor√≠a Online</a>
        </div>
        
        {showStats && (
          <div class="hero-stats fade-in-up">
            {stats.map(stat => (
              <div class="hero-stat">
                <span class="hero-stat-number">{stat.number}</span>
                <span class="hero-stat-label">{stat.label}</span>
              </div>
            ))}
          </div>
        )}
      </div>
      
      <div class="hero-visual fade-in-left">
        <div class="hero-mockup">
          <div class="mockup-content">
            <h4>Dashboard Contable IA</h4>
            <p class="mockup-feature">ü§ñ Automatizaci√≥n de procesos</p>
            <p class="mockup-feature">üìä An√°lisis inteligente de gastos</p>
            <p class="mockup-feature">üí° Recomendaciones fiscales personalizadas</p>
            <div class="mockup-badge">
              <span class="mockup-badge-dot"></span>
              <span>Actualizado en tiempo real</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Wave separator (opcional) -->
  <div class="hero-wave">
    <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
      <path d="M0 0L48 8.875C96 17.75 192 35.5 288 44.375C384 53.25 480 53.25 576 44.375C672 35.5 768 17.75 864 26.625C960 35.5 1056 71 1152 80.75C1248 89.625 1344 71 1392 62.125L1440 53.25V120H1392C1344 120 1248 120 1152 120C1056 120 960 120 864 120C768 120 672 120 576 120C480 120 384 120 288 120C192 120 96 120 48 120H0V0Z" fill="white"/>
    </svg>
  </div>
</section>

<style>
  .hero {
    background: var(--bg-hero);
    color: white;
    padding: var(--space-32) 0 var(--space-24);
    position: relative;
    overflow: hidden;
  }

  .hero-background {
    position: absolute;
    inset: 0;
    background-image: 
      radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.1) 0%, transparent 20%),
      radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.1) 0%, transparent 20%);
    z-index: 0;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--space-6);
    position: relative;
    z-index: 1;
  }

  .hero-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-16);
    align-items: center;
  }

  .hero-title {
    font-family: var(--font-display);
    font-size: var(--font-size-6xl);
    font-weight: 800;
    line-height: 1.1;
    margin-bottom: var(--space-6);
    color: white;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .hero-subtitle {
    font-size: var(--font-size-xl);
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: var(--space-8);
    line-height: 1.6;
  }

  .hero-subtitle strong {
    font-weight: 700;
    color: white;
    position: relative;
    display: inline-block;
  }

  .hero-subtitle strong::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    right: 0;
    height: 2px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 1px;
  }

  .hero-cta {
    display: flex;
    gap: var(--space-4);
    flex-wrap: wrap;
    margin-bottom: var(--space-8);
  }

  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-3) var(--space-6);
    font-family: var(--font-display);
    font-size: var(--font-size-base);
    font-weight: 600;
    border-radius: var(--border-radius-md);
    border: 2px solid transparent;
    cursor: pointer;
    text-decoration: none;
    transition: all var(--transition-normal);
    white-space: nowrap;
  }

  .btn-xl {
    padding: var(--space-5) var(--space-10);
    font-size: var(--font-size-xl);
    border-radius: var(--border-radius-xl);
    font-weight: 700;
  }

  .btn-accent {
    background: var(--orange-600);
    color: white;
    border-color: var(--orange-600);
  }

  .btn-accent:hover {
    background: var(--orange-700);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(234, 88, 12, 0.3);
  }

  .btn-outline {
    background: transparent;
    color: white;
    border-color: rgba(255, 255, 255, 0.6);
  }

  .btn-outline:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: white;
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);
  }

  .hero-stats {
    display: flex;
    gap: var(--space-8);
  }

  .hero-stat {
    text-align: center;
    position: relative;
  }

  .hero-stat::before {
    content: '';
    position: absolute;
    top: 0;
    left: -20px;
    width: 1px;
    height: 100%;
    background: rgba(255, 255, 255, 0.2);
  }

  .hero-stat:first-child::before {
    display: none;
  }

  .hero-stat-number {
    font-family: var(--font-display);
    font-size: var(--font-size-3xl);
    font-weight: 800;
    color: white;
    display: block;
    line-height: 1;
  }

  .hero-stat-label {
    font-size: var(--font-size-sm);
    color: rgba(255, 255, 255, 0.8);
    margin-top: var(--space-2);
    display: block;
  }

  .hero-visual {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .hero-mockup {
    background: rgba(255, 255, 255, 0.1);
    border-radius: var(--border-radius-2xl);
    padding: var(--space-8);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transform: rotate(3deg);
    transition: transform var(--transition-slow);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  }

  .hero-mockup:hover {
    transform: rotate(0deg) scale(1.05);
  }

  .mockup-content {
    background: var(--bg-primary);
    border-radius: var(--border-radius-lg);
    padding: var(--space-6);
    color: var(--neutral-700);
    box-shadow: var(--shadow-xl);
  }

  .mockup-content h4 {
    font-family: var(--font-display);
    font-size: var(--font-size-lg);
    font-weight: 700;
    color: var(--neutral-900);
    margin-bottom: var(--space-4);
    padding-bottom: var(--space-3);
    border-bottom: 1px solid var(--neutral-200);
  }

  .mockup-feature {
    margin-bottom: var(--space-3);
    display: flex;
    align-items: center;
    gap: var(--space-2);
  }

  .mockup-feature:last-of-type {
    margin-bottom: var(--space-6);
  }

  .mockup-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    background: var(--green-50);
    color: var(--green-700);
    padding: var(--space-2) var(--space-3);
    border-radius: var(--border-radius-md);
    font-size: var(--font-size-xs);
    font-weight: 600;
    margin-top: var(--space-2);
  }

  .mockup-badge-dot {
    width: 8px;
    height: 8px;
    background: var(--green-500);
    border-radius: 50%;
    display: block;
    position: relative;
  }

  .mockup-badge-dot::after {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 50%;
    background: var(--green-500);
    opacity: 0.5;
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0% {
      transform: scale(1);
      opacity: 0.5;
    }
    70% {
      transform: scale(2);
      opacity: 0;
    }
    100% {
      transform: scale(1);
      opacity: 0;
    }
  }

  /* Wave separator */
  .hero-wave {
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
    height: 120px;
    overflow: hidden;
    line-height: 0;
    z-index: 2;
  }

  .hero-wave svg {
    width: 100%;
    height: 100%;
  }

  /* Animations */
  .fade-in-up {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease;
  }

  .fade-in-up.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .fade-in-left {
    opacity: 0;
    transform: translateX(-30px);
    transition: all 0.6s ease;
  }

  .fade-in-left.visible {
    opacity: 1;
    transform: translateX(0);
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .hero-content {
      grid-template-columns: 1fr;
      gap: var(--space-8);
      text-align: center;
    }

    .hero-title {
      font-size: var(--font-size-5xl);
    }

    .hero-cta {
      justify-content: center;
    }

    .hero-stats {
      justify-content: center;
    }

    .hero {
      padding: var(--space-20) 0 var(--space-32);
    }
  }

  @media (max-width: 768px) {
    .hero-title {
      font-size: var(--font-size-4xl);
    }

    .hero-subtitle {
      font-size: var(--font-size-lg);
    }

    .hero-cta {
      flex-direction: column;
      align-items: center;
    }

    .btn-xl {
      width: 100%;
      max-width: 300px;
    }

    .hero-stats {
      flex-direction: column;
      gap: var(--space-6);
    }

    .hero-stat::before {
      display: none;
    }

    .hero-mockup {
      max-width: 90%;
      margin: 0 auto;
    }
  }

  @media (max-width: 480px) {
    .hero-title {
      font-size: var(--font-size-3xl);
    }

    .hero {
      padding: var(--space-16) 0 var(--space-24);
    }
  }
</style>

<script>
  // Script para las animaciones
  document.addEventListener('DOMContentLoaded', () => {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    });

    // Observar elementos con animaci√≥n
    document.querySelectorAll('.fade-in-up, .fade-in-left').forEach(el => observer.observe(el));
  });
</script>