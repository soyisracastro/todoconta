---
import LandingLayout from '@/layouts/LandingLayout.astro';
import IAGrabacionHero from '@/components/pages/ia-contadores/IAGrabacionHero.astro';
import IAStrategicProblem from '@/components/pages/ia-contadores/IAStrategicProblem.astro';
import IAMethodology from '@/components/pages/ia-contadores/IAMethodology.astro';
import IAVideoShowcase from '@/components/pages/ia-contadores/IAVideoShowcase.astro';
import IAPDFBonus from '@/components/pages/ia-contadores/IAPDFBonus.astro';
import IAPerplexityGift from '@/components/pages/ia-contadores/IAPerplexityGift.astro';
import IAUpsellReto from '@/components/pages/ia-contadores/IAUpsellReto.astro';

const title =
  'Masterclass Gratuita - Por Qué el 90% de los Contadores Usa IA de Forma Incorrecta';
const description =
  'Descubre la Mentalidad IA-First: cómo elegir ChatGPT, Claude o Gemini según cada tarea contable. Incluye recursos descargables y acceso a Perplexity Pro.';
const keywords = [
  'masterclass IA contadores grabación',
  'ChatGPT para contadores',
  'Claude AI',
  'Gemini 3',
  'IA para contabilidad',
  'recursos gratuitos IA',
  'Perplexity Pro',
];

// Configuration
const VIDEO_YOUTUBE_ID = 'fokb3vN5jaQ';
const TUTORIAL_VIDEO_ID = 'VHI8UPMiRdw';
const PDF_DOWNLOAD_LINK =
  'https://s3.us-east-1.amazonaws.com/todoconta.com/uploads/Casos+pra%CC%81cticos_+3+flujos+hi%CC%81bridos+que+te+ahorrara%CC%81n+horas.pdf';
const PERPLEXITY_LINK = 'https://www.perplexity.ai/join/p/paypal-subscription';
const CHECKOUT_URL =
  'https://nas.io/checkout-global?communityId=67ab5a14d444670df4027cad&communityCode=TODOCONTA_CLUB&requestor=whatsappSignup&linkClicked=https%3A%2F%2Fnas.io%2Fportal%2Fchallenges%2Fmanage%3Fid%3D6932a1a7d7b7451ff09982cc&sourceInfoType=challenge&sourceInfoOrigin=6932a1a7d7b7451ff09982cc';
---

<LandingLayout
  title={title}
  description={description}
  keywords={keywords}
  showFooter={false}
  category="ia"
>
  <IAGrabacionHero />

  <IAStrategicProblem />

  <IAMethodology />

  <IAVideoShowcase videoId={VIDEO_YOUTUBE_ID} />

  <IAPDFBonus pdfUrl={PDF_DOWNLOAD_LINK} />

  <IAPerplexityGift perplexityUrl={PERPLEXITY_LINK} />

  <IAUpsellReto
    checkoutUrl={CHECKOUT_URL}
    tutorialVideoId={TUTORIAL_VIDEO_ID}
  />
</LandingLayout>

<style>
  /* Material Symbols configuration */
  .material-symbols-outlined {
    font-variation-settings:
      'FILL' 1,
      'wght' 400,
      'GRAD' 0,
      'opsz' 24;
  }
</style>

<script>
  // Analytics Tracking
  function trackEvent(eventName: string, eventData = {}) {
    if (typeof window !== 'undefined' && (window as any).gtag) {
      (window as any).gtag('event', eventName, eventData);
    }
    console.log('Track Event:', eventName, eventData);
  }

  document.querySelectorAll('[data-track-event]').forEach(button => {
    button.addEventListener('click', e => {
      const eventName = (e.currentTarget as HTMLElement).getAttribute(
        'data-track-event'
      );
      if (eventName) {
        trackEvent(eventName, {
          button_text: (e.currentTarget as HTMLElement).textContent?.trim(),
        });
      }
    });
  });
</script>
